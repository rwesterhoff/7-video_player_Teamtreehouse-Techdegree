function Container(t,e,n){this.id=t,this.className=e,this.state=n}function ControlsGroup(t,e){this.id=t,this.content=e}function Progress(t){this.id=t}function Button(t,e,n){this.id=t,this.srt=e,this.text=n}function Indicator(t){this.id=t}function Slider(t,e,n,o,r){this.id=t,this.min=e,this.max=n,this.step=o,this.value=r}function VideoPlayer(t,e,n){this.id=t,this.controlsContainer=e,this.playerControls=n}var supportsVideo=!!document.createElement("video").canPlayType,videoContainer=document.getElementById("video-container"),videoPlayer=document.getElementById("video-player"),contentContainer=document.getElementById("content-container"),progressContainerId="progress-container",progressId="progress-bar",bufferId="buffer-bar",currentTimeIndicatorId="current-time-indicator",durationIndicatorId="duration-indicator",isFullScreen=function(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},playerControls;if(Container.prototype.createContainer=function(t){var e=document.createElement("div");e.setAttribute("id",this.id),e.setAttribute("class",this.className),e.setAttribute("data-state",this.state),t.appendChild(e)},Container.prototype.toHTML=function(){var t="<div";return t+=' id="'+this.id+'"',t+=' class="'+this.className+'"',t+=' data-state="'+this.state+'"',t+=">",t+="</div>"},ControlsGroup.prototype.toHTML=function(){var t="<div";return t+=' id="'+this.id+'"',t+=">",t+=this.content,t+="</div>"},Progress.prototype.toHTML=function(){var t="<span";return t+=' id="'+this.id+'"',t+=">",t+="</span>"},Button.prototype.toHTML=function(){var t="<button";return t+=' id="'+this.id+'"',this.srt&&(t+=' class="srt"'),t+=">",t+=this.text,t+="</button>"},Indicator.prototype.toHTML=function(){var t="<span";return t+=' id="'+this.id+'"',t+=' class="indicator"',t+=">",t+="</span>"},Slider.prototype.toHTML=function(){var t="<input";return t+=' type="range"',t+=' id="'+this.id+'"',t+=' min="'+this.min+'"',t+=' max="'+this.max+'"',t+=' step="'+this.step+'"',t+=' value="'+this.value+'"',t+=">"},VideoPlayer.prototype.displayAll=function(){this.displayProgress(),this.displayControls(),this.displayTime(),this.makeItWork()},VideoPlayer.prototype.renderInElement=function(t,e){var n=e,o=document.getElementById(t);for(var r in n)n.hasOwnProperty(r)&&(o.innerHTML+=n[r].toHTML())},VideoPlayer.prototype.displayProgress=function(){var t=new Container(progressContainerId,"progress","visible"),e=document.getElementById(this.controlsContainer);t.createContainer(e);var n=t.id,o={progressBar:new Progress(progressId),bufferBar:new Progress(bufferId)},r=o;this.renderInElement(n,r)},VideoPlayer.prototype.displayControls=function(){var t=new Container("button-container","buttons","visible"),e=document.getElementById(this.controlsContainer);t.createContainer(e);var n=t.id,o=this.playerControls;this.renderInElement(n,o)},VideoPlayer.prototype.displayTime=function(){var t=playerControls.timeIndicator.id,e={currentTimeIndicator:new Indicator(currentTimeIndicatorId,"0:00"),durationIndicator:new Indicator(durationIndicatorId,"")},n=e;this.renderInElement(t,n)},VideoPlayer.prototype.makeItWork=function(){this.setProgress(),this.setPlayButton()},VideoPlayer.prototype.setProgress=function(){setInterval(function(){if(videoPlayer.readyState>0)var t=function(){var t=videoPlayer.duration,e=videoPlayer.currentTime,n=parseInt(t/60,10),o=Math.floor(t%60),r=parseInt(e/60,10),i=Math.floor(e%60),a=Math.floor(e/t*100),s=videoPlayer.buffered.end(videoPlayer.buffered.length-1),d=Math.floor(s/t*100),l=document.getElementById(durationIndicatorId),u=document.getElementById(currentTimeIndicatorId),c=document.getElementById(progressId),p=document.getElementById(bufferId);10>i?u.innerText=r+":0"+i+" / ":u.innerText=r+":"+i+" / ",10>o?l.innerText=n+":0"+o:l.innerText=n+":"+o,c.style.width=a+"%",p.style.width=d-a+"%"};t()},200)},VideoPlayer.prototype.setPlayButton=function(){var t=this.playerControls.playButton;if(t){var e=document.getElementById(t.id);videoPlayer.addEventListener("playing",function(t){e.setAttribute("data-state","playing")}),e.addEventListener("click",function(t){videoPlayer.paused||videoPlayer.ended?(videoPlayer.play(),e.setAttribute("data-state","playing")):(videoPlayer.pause(),e.setAttribute("data-state","paused"))})}},supportsVideo){var videoControlsContainer=new Container("video-controls","controls","hidden"),playerControls={playButton:new Button("playpause",!0,"Play/Pause"),timeIndicator:new ControlsGroup("time-indicator",""),stopButton:new Button("stop",!0,"Stop"),playBackSlider:new Slider("speed-bar",.5,2,.25,1),playBackIndicator:new Indicator("playback-indicator"),captionsButton:new Button("captions",!1,"CC"),muteButton:new Button("mute",!0,"Mute/Unmute"),volumeSlider:new Slider("volume-bar",0,1,.1,1),fullscreenButton:new Button("full-screen",!0,"Fullscreen")},video=new VideoPlayer("video-player",videoControlsContainer.id,playerControls);videoPlayer.controls=!1,videoControlsContainer.createContainer(videoContainer),video.displayAll()}